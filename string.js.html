<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>string.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-@xcmats_js-toolbox.html">@xcmats/js-toolbox</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-array.html">array</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~countBy">countBy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~draw">draw</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~findDuplicates">findDuplicates</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~flatten">flatten</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~head">head</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~last">last</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~range">range</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~shuffle">shuffle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~sparse">sparse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-array.html#~tail">tail</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-async.html">async</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-async.html#~delay">delay</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-async.html#~interval">interval</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-async.html#~map">map</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-async.html#~parMap">parMap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-async.html#~reduce">reduce</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-async.html#~repeat">repeat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-async.html#~timeout">timeout</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-codec.html">codec</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-codec.html#~b64dec">b64dec</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-codec.html#~b64enc">b64enc</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-codec.html#~bytesToString">bytesToString</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-codec.html#~stringB64dec">stringB64dec</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-codec.html#~stringB64enc">stringB64enc</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-codec.html#~stringToBytes">stringToBytes</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-func.html">func</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-func.html#~compose">compose</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-func.html#~curry">curry</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-func.html#~partial">partial</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-func.html#~Y">Y</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-math.html">math</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-math.html#~average">average</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-math.html#~log2">log2</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-math.html#~log10">log10</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-math.html#~roundIfClose">roundIfClose</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-math.html#~sum">sum</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-redux.html">redux</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-redux.html#~createReducer">createReducer</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-string.html">string</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~asciiLetters">asciiLetters</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~asciiLowercase">asciiLowercase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~asciiUppercase">asciiUppercase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~big">big</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~camelToPascal">camelToPascal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~camelToSnake">camelToSnake</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~capitalize">capitalize</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~digits">digits</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~ellipsis">ellipsis</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~empty">empty</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~pascalToCamel">pascalToCamel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~pascalToSnake">pascalToSnake</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~quote">quote</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~random">random</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~shorten">shorten</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~snakeToCamel">snakeToCamel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~snakeToPascal">snakeToPascal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-string.html#~wrap">wrap</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-type.html">type</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-type.html#~isFunction">isFunction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-type.html#~isNumber">isNumber</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-type.html#~isObject">isObject</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-type.html#~isString">isString</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-type.html#~nullToUndefined">nullToUndefined</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-type.html#~toBool">toBool</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-utils.html">utils</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~access">access</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~choose">choose</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~clone">clone</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~dict">dict</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~handleException">handleException</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~identity">identity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~isBrowser">isBrowser</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~objectMap">objectMap</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~objectReduce">objectReduce</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~randomInt">randomInt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-utils.html#~swap">swap</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">string.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * String tools.
 *
 * @module string
 * @license Apache-2.0
 * @author drmats
 */




import {
    draw,
    head,
    last,
    range,
    tail
} from "./array"
import { Y } from "./func"




/**
 * Return full set of ASCII letters.
 *
 * @function asciiLetters
 * @returns {String}
 */
export const asciiLetters = () =>
    "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"




/**
 * Return lowercase ASCII letters.
 *
 * @function asciiLowercase
 * @returns {String}
 */
export const asciiLowercase = () => "abcdefghijklmnopqrstuvwxyz"




/**
 * Return uppercase ASCII letters.
 *
 * @function asciiUppercase
 * @returns {String}
 */
export const asciiUppercase = () => "ABCDEFGHIJKLMNOPQRSTUVWXYZ"




/**
 * Allocate a big string (of size 2^n). Use with caution!
 *
 * - `big(16)` makes `2^16 = 65536` string size.
 * - `big(23)` makes `2^23 = 8M` string size,
 * - `big(24)` makes `16M` and so on.
 *
 * `c = "x"` - Character used during string generation.
 *
 * Example:
 *
 * ```
 * big(2) === "xxxx"
 * big(3, "a") === "aaaaaaaa"
 * ```
 *
 * @function big
 * @param {Number} n
 * @param {String} [c="x"]
 * @returns {String}
 */
export const big = Y((r) => (n, c = "x") => n > 0  ?  r(n - 1, c + c)  :  c)




/**
 * Convert `thisKindOfText` to `ThisKindOfText`.
 *
 * @function camelToPascal
 * @param {String} str
 * @returns {String}
 */
export const camelToPascal = (str) =>
    str  &amp;&amp;  str.length > 0  ?
        head(str).toUpperCase() + tail(str)  :
        empty()




/**
 * Convert `thisKindOfText` to `this_kind_of_text`.
 *
 * @function camelToSnake
 * @param {String} str
 * @returns {String}
 */
export const camelToSnake = (str) =>
    str  ?  str.replace(/([A-Z])/g, "_$1").toLowerCase()  :  empty()




/**
 * Ensure given string is in form `Aaaaaaaa`.
 *
 * @function capitalize
 * @param {String} str
 * @returns {String}
 */
export const capitalize = (str) =>
    str  &amp;&amp;  str.length > 0  ?
        head(str).toUpperCase() + tail(str).toLowerCase()  :
        empty()




/**
 * Return all digits.
 *
 * @function digits
 * @returns {String}
 */
export const digits = () => "0123456789"




/**
 * Constructs new string with inserted `sep` (of default value `…`)
 * at the `ellipsis.BEGIN`, `ellipsis.MIDDLE` or `ellipsis.END`.
 * Returned string has the same length as input string
 * (thus some original characters are replaced with `sep` contents).
 *
 * @function ellipsis
 * @param {String} str Text to insert `sep` (`…`) into.
 * @param {Number} [placing=ellipsis.MIDDLE] Place to insert.
 *     Can be `ellipsis.BEGIN`, `ellipsis.MIDDLE` or `ellipsis.END`.
 * @param {String} [sep="…"] Separator.
 * @returns {String}
 */
export const ellipsis = (str, placing = 1, sep = "…") => {
    let x = str.split(empty())
    if (str.length >= sep.length) {
        if (placing === 1) {             // ellipsis.MIDDLE
            x.splice(
                Math.floor(x.length / 2) - Math.floor(sep.length / 2),
                sep.length, sep
            )
        } else if (placing === 0) {      // ellipsis.BEGIN
            x.splice(0, sep.length, sep)
        } else if (placing === 2) {      // ellipsis.END
            x.splice(x.length - sep.length, sep.length, sep)
        }
    }
    return x.join(empty())
}
Object.freeze(Object.assign(ellipsis, { BEGIN: 0, MIDDLE: 1, END: 2, }))




/**
 * Construct empty string.
 *
 * @function empty
 * @returns {String}
 */
export const empty = () => ""




/**
 * Convert `ThisKindOfText` to `thisKindOfText`.
 *
 * @function pascalToCamel
 * @param {String} str
 * @returns {String}
 */
export const pascalToCamel = (str) =>
    str  &amp;&amp;  str.length > 0  ?
        head(str).toLowerCase() + tail(str)  :
        empty()




/**
 * Convert `ThisKindOfText` to `this_kind_of_text`.
 *
 * @function pascalToSnake
 * @param {String} str
 * @returns {String}
 */
export const pascalToSnake = (str) =>
    str  ?  tail(camelToSnake(str))  :  empty()




/**
 * Quote text.
 *
 * @function quote
 * @param {String} [str=empty()]
 * @param {String} [q="\"\""]
 * @returns {String}
 */
export const quote = (str = empty(), q = "\"\"") =>
    `${head(q)}${str}${last(q)}`




/**
 * Construct random string of desired length.
 *
 * @function random
 * @param {Number} [size=0]
 * @param {String} [letters=asciiLetters()+digits()]
 * @returns {String}
 */
export const random = (size = 0, letters = asciiLetters() + digits()) =>
    range(size).map(() => draw(letters.split(empty()))).join(empty())




/**
 * Constructs new string not longer than `len`.
 *
 * @function shorten
 * @param {String} str Text to be shortened.
 * @param {Number} [len=Infinity] Desired text length.
 * @param {Number} [placing=shorten.MIDDLE] Character cutting place.
 *     Can be `shorten.BEGIN`, `shorten.MIDDLE` or `shorten.END`.
 * @param {String} [sep="…"] Separator.
 * @returns {String}
 */
export const shorten = (str, len = Infinity, placing = 1, sep = "…") => {
    let x = str.split(empty())
    if (len &lt; str.length) {
        if (placing === 1) {             // shorten.MIDDLE
            x.splice(Math.floor(len/2), str.length - len)
        } else if (placing === 0) {      // shorten.BEGIN
            x.splice(0, x.length - len)
        } else if (placing === 2) {      // shorten.END
            x.splice(len, x.length - len)
        }
        return ellipsis(x.join(empty()), placing, sep)
    }
    return str
}
Object.freeze(Object.assign(shorten, ellipsis))




/**
 * Convert `this_kind_of_text` to `thisKindOfText`.
 *
 * @function snakeToCamel
 * @param {String} str
 * @returns {String}
 */
export const snakeToCamel = (str) => (
    (pascal) =>
        pascal.length > 0  ?
            head(pascal).toLowerCase() + tail(pascal)  :
            empty()
)(snakeToPascal(str))




/**
 * Convert `this_kind_of_text` to `ThisKindOfText`.
 *
 * @function snakeToPascal
 * @param {String} str
 * @returns {String}
 */
export const snakeToPascal = (str) =>
    str  ?
        str.split(/_+/g).map((w) => capitalize(w)).join(empty())  :
        empty()




/**
 * Wrap passed string with `prefix` and `suffix`.
 *
 * @function wrap
 * @param {String} [str=empty()]
 * @param {String} [prefix=empty()]
 * @param {String} [suffix=empty()]
 * @returns {String}
 */
export const wrap = (str = empty(), prefix = empty(), suffix = empty()) =>
    `${prefix}${str}${suffix}`
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Sep 16 2018 10:04:41 GMT+0200 (CEST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
